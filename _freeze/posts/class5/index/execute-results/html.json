{
  "hash": "9b327aafdb6d5cace7d62f31133bc0ec",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"groups\"\n---\n\n\n\n\n\n# Groups \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(mosaic)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggformula)\nlibrary(palmerpenguins)# Our new favourite dataseti\nlibrary(skimr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:mosaic':\n\n    n_missing\n```\n\n\n:::\n:::\n\n\n\n\n\n### min max median 1st quartile 3rd quartile \n\nwhen we want to compare multiple distributions\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwages <- read_csv(\"https://vincentarelbundock.github.io/Rdatasets/csv/stevedata/gss_wages.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 61697 Columns: 12\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): occrecode, wrkstat, gender, educcat, maritalcat\ndbl (7): rownames, year, realrinc, age, occ10, prestg10, childs\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n\n\n\n\n## examining\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(wages)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 61,697\nColumns: 12\n$ rownames   <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, …\n$ year       <dbl> 1974, 1974, 1974, 1974, 1974, 1974, 1974, 1974, 1974, 1974,…\n$ realrinc   <dbl> 4935, 43178, NA, NA, 18505, 22206, 55515, NA, NA, 4935, NA,…\n$ age        <dbl> 21, 41, 83, 69, 58, 30, 48, 67, 51, 54, 89, 71, 27, 30, 22,…\n$ occ10      <dbl> 5620, 2040, NA, NA, 5820, 910, 230, 6355, 4720, 3940, 4810,…\n$ occrecode  <chr> \"Office and Administrative Support\", \"Professional\", NA, NA…\n$ prestg10   <dbl> 25, 66, NA, NA, 37, 45, 59, 49, 28, 38, 47, 45, 50, 29, 33,…\n$ childs     <dbl> 0, 3, 2, 2, 0, 0, 2, 1, 2, 2, 3, 1, 4, 3, 0, 1, 2, 3, 4, 8,…\n$ wrkstat    <chr> \"School\", \"Full-Time\", \"Housekeeper\", \"Housekeeper\", \"Full-…\n$ gender     <chr> \"Male\", \"Male\", \"Female\", \"Female\", \"Female\", \"Male\", \"Male…\n$ educcat    <chr> \"High School\", \"Bachelor\", \"Less Than High School\", \"Less T…\n$ maritalcat <chr> \"Married\", \"Married\", \"Widowed\", \"Widowed\", \"Never Married\"…\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ninspect(wages)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\ncategorical variables:  \n        name     class levels     n missing\n1  occrecode character     11 58136    3561\n2    wrkstat character      8 61676      21\n3     gender character      2 61697       0\n4    educcat character      5 61562     135\n5 maritalcat character      5 61670      27\n                                   distribution\n1 Professional (19%), Service (16.9%) ...      \n2 Full-Time (49.4%), Housekeeper (15.1%) ...   \n3 Female (56.1%), Male (43.9%)                 \n4 High School (51.5%) ...                      \n5 Married (51.7%), Never Married (21.8%) ...   \n\nquantitative variables:  \n      name   class  min    Q1 median    Q3      max         mean           sd\n1 rownames numeric    1 15425  30849 46273  61697.0 30849.000000 17810.534116\n2     year numeric 1974  1985   1996  2006   2018.0  1996.073715    12.794470\n3 realrinc numeric  227  8156  16563 27171 480144.5 22326.359234 28581.794499\n4      age numeric   18    32     44    59     89.0    46.176177    17.561065\n5    occ10 numeric   10  2710   4720  6230   9997.0  4695.774081  2627.724076\n6 prestg10 numeric   16    33     42    50     80.0    43.060701    12.987526\n7   childs numeric    0     0      2     3      8.0     1.923457     1.763569\n      n missing\n1 61697       0\n2 61697       0\n3 37887   23810\n4 61478     219\n5 58136    3561\n6 57511    4186\n7 61508     189\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nskim(wages)\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |      |\n|:------------------------|:-----|\n|Name                     |wages |\n|Number of rows           |61697 |\n|Number of columns        |12    |\n|_______________________  |      |\n|Column type frequency:   |      |\n|character                |5     |\n|numeric                  |7     |\n|________________________ |      |\n|Group variables          |None  |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|occrecode     |      3561|          0.94|   5|  37|     0|       11|          0|\n|wrkstat       |        21|          1.00|   5|  23|     0|        8|          0|\n|gender        |         0|          1.00|   4|   6|     0|        2|          0|\n|educcat       |       135|          1.00|   8|  21|     0|        5|          0|\n|maritalcat    |        27|          1.00|   7|  13|     0|        5|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|     mean|       sd|   p0|   p25|   p50|   p75|     p100|hist  |\n|:-------------|---------:|-------------:|--------:|--------:|----:|-----:|-----:|-----:|--------:|:-----|\n|rownames      |         0|          1.00| 30849.00| 17810.53|    1| 15425| 30849| 46273|  61697.0|▇▇▇▇▇ |\n|year          |         0|          1.00|  1996.07|    12.79| 1974|  1985|  1996|  2006|   2018.0|▆▇▇▇▇ |\n|realrinc      |     23810|          0.61| 22326.36| 28581.79|  227|  8156| 16563| 27171| 480144.5|▇▁▁▁▁ |\n|age           |       219|          1.00|    46.18|    17.56|   18|    32|    44|    59|     89.0|▇▇▆▅▂ |\n|occ10         |      3561|          0.94|  4695.77|  2627.72|   10|  2710|  4720|  6230|   9997.0|▃▅▇▂▃ |\n|prestg10      |      4186|          0.93|    43.06|    12.99|   16|    33|    42|    50|     80.0|▃▇▇▃▁ |\n|childs        |       189|          1.00|     1.92|     1.76|    0|     0|     2|     3|      8.0|▇▇▂▁▁ |\n\n\n:::\n:::\n\n\n\n\n\n## dictionary & munging \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwages_modified <-\n  wages %>%\n  tidyr::drop_na(realrinc)\n```\n:::\n\n\n\n\n\n## graphs \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwages_modified %>%\n  gf_boxplot(realrinc ~ \"Income\") %>% # Dummy X-axis \"variable\"\n  gf_labs(\n    title = \"Plot 1A: Income has a skewed distribution\",\n    subtitle = \"Many outliers on the high side\"\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwages_modified %>%\n  gf_boxplot(\"Income\" ~ realrinc) %>%  # Swapping axes for a horizontal boxplot\n  gf_labs(\n    title = \"Plot 1A: Income has a skewed distribution\",\n    subtitle = \"Many outliers on the high side\"\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n\n\n### is income affected by gender \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwages_modified %>%\n  gf_boxplot(gender ~ realrinc) %>%\n  gf_labs(title = \"Plot 2A: Income by Gender\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwages_modified %>%\n  gf_boxplot(gender ~ log10(realrinc)) %>% ##reduces effect of extreme values \n  gf_labs(title = \"Plot 2B: Log(Income) by Gender\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwages_modified %>%\n  gf_boxplot(gender ~ realrinc, fill = ~gender) %>%\n  gf_refine(scale_x_log10()) %>%\n  gf_labs(title = \"Plot 2C: Income filled by Gender, log scale\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n\n\n\nreal rinc against educcat (degrees)\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwages_modified <-\n  wages %>%\n  tidyr::drop_na(educcat)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwages_modified %>%\n  gf_boxplot(educcat ~ realrinc) %>%\n  gf_labs(title = \"Plot 3A: Income by Education Category\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 23716 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n\n\n\n-   many outliers, individual in each category earn significantly more hten others\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwages_modified %>%\n  gf_boxplot(log10(realrinc) ~ educcat) %>%\n  gf_labs(title = \"Plot 3A: Income by Education Category\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 23716 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}