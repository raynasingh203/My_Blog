<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Dataset-1 – POSTS</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="../../styles.css">
<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">POSTS</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">about</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Dataset-1</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="grain-transportation-cartels" class="level1">
<h1>Grain Transportation Cartels</h1>
<hr>
<button>
<span class="button_top">Background Research</span>
</button>
<hr>
</section>
<section id="defining-terms-the-context" class="level1">
<h1>Defining Terms &amp; the Context&nbsp;</h1>
<section id="weekly-time-series-data-on-joint-executive-committees-railroad-cartel-from-1800-to-1886" class="level2">
<h2 class="anchored" data-anchor-id="weekly-time-series-data-on-joint-executive-committees-railroad-cartel-from-1800-to-1886"><span style="color: #98B926;">Weekly time series data on joint executive committee’s railroad cartel from&nbsp;1800 to 1886&nbsp;</span></h2>
<p>Porter, Robert H. “A Study of Cartel Stability: The Joint Executive Committee, 1880-1886.”&nbsp;<em>The Bell Journal of Economics</em>&nbsp;14, no. 2 (1983): 301–14. https://doi.org/10.2307/3003634.</p>
<p>-The study analyses how the cartel’s pricing strategy evolved over time&nbsp;</p>
<p>-Oligopoly- market structure with a small number of firms, none of which can keep the others from having significant influence.</p>
<p>-Testing whether fluctuations in the grains’ prices and quantities were due to the change in the cartel’s cooperation level or simply external factors like shifts in demand and cost conditions.</p>
<p>-<u>Cartels tend to oscillate between these two modes of behaviour? Did they do that in This case?</u></p>
<p>-<strong>Behaviours</strong></p>
<ul>
<li><p><strong>Collusive</strong></p>
<ul>
<li>Firms work together to maximise their joint profits; involves agreements to set prices, limit production, market sharing etc, may artificially restrict supply to raise prices.</li>
</ul></li>
<li><p><strong>Noncooperative</strong></p>
<ul>
<li><p>Firms act independently and compete with each other to focus on their individual prices.</p>
<p>May lead to price wars, increased production.</p></li>
</ul></li>
</ul>
<p>-A cartel is a group of independent market participants who collude with each other as well as agreeing not to compete with each other in order to improve their profits and dominate the market. —<em>wikipedia description of cartels</em></p>
<section id="trigger-price-strategy" class="level4">
<h4 class="anchored" data-anchor-id="trigger-price-strategy">-<strong><em>trigger price strategy</em></strong></h4>
<p>-firms set a specific price point (Trigger price),that, if undercut by a competitor to gain market share, will prompt a reaction from other firms in the market.</p>
<p>-the reaction aims to restore the competitive equilibrium.</p>
<p>-goal is to discourage firms from lowering prices as It might lead to price wars.</p>
<p>-mechanism to sustain higher prices in oligopolistic markets.</p>
</section>
<section id="jec-case-study-features" class="level3">
<h3 class="anchored" data-anchor-id="jec-case-study-features"><strong>JEC CASE STUDY</strong> features</h3>
<ul>
<li><p>several instances where the cartel thought cheating had occurred, cut prices for a time and then returned to the collusive price</p></li>
<li><p>price, rather than quantity was used as the strategic variable of firms (cartels) in the rail-freight industry</p></li>
<li><p>wheat transported was subsequently exported overseas and the pricing was adjusted to compensated for variations in ocean shipping rates.</p></li>
<li><p>lake steamers and sailships were the principal source of competition for the railroads</p></li>
<li><p>predictable fluctuations in demand caused by the annual opening and closing of the Great Lakes shipping season did not disrupt industry behaviour. Rates were systematically adjusted in line with the lake navigation schedule</p></li>
<li><p>conduct of JEC was largely following a collusive equilibrium as price wars were caused by unpredictable disturbances rather than by predictable fluctuations in demand.</p></li>
</ul>
<hr>
<button>
<span class="button_top">Examining the Data</span>
</button>
<hr>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>cartelstability <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://vincentarelbundock.github.io/Rdatasets/csv/AER/CartelStability.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 328 Columns: 6
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (3): cartel, season, ice
dbl (3): rownames, price, quantity

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>cartelstability</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 328 × 6
   rownames price cartel quantity season          ice  
      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;
 1        1  0.4  yes       13632 Jan  1 - Jan 28 yes  
 2        2  0.4  yes       20035 Jan  1 - Jan 28 yes  
 3        3  0.4  yes       16319 Jan  1 - Jan 28 yes  
 4        4  0.4  yes       12603 Jan  1 - Jan 28 yes  
 5        5  0.4  yes       23079 Jan 29 - Feb 25 yes  
 6        6  0.4  yes       19652 Jan 29 - Feb 25 yes  
 7        7  0.4  yes       16211 Jan 29 - Feb 25 yes  
 8        8  0.4  yes       22914 Jan 29 - Feb 25 yes  
 9        9  0.4  yes       23710 Feb 26 - Mar 26 yes  
10       10  0.35 yes       23036 Feb 26 - Mar 26 yes  
# ℹ 318 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(cartelstability)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Rows: 328</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Columns: 6</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="do">## $ rownames &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="do">## $ price    &lt;dbl&gt; 0.40, 0.40, 0.40, 0.40, 0.40, 0.40, 0.40, 0.40, 0.40, 0.35, 0…</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="do">## $ cartel   &lt;chr&gt; "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes"…</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="do">## $ quantity &lt;dbl&gt; 13632, 20035, 16319, 12603, 23079, 19652, 16211, 22914, 23710…</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="do">## $ season   &lt;chr&gt; "Jan  1 - Jan 28", "Jan  1 - Jan 28", "Jan  1 - Jan 28", "Jan…</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="do">## $ ice      &lt;chr&gt; "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes"…</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inspect</span>(cartelstability)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
categorical variables:  
    name     class levels   n missing
1 cartel character      2 328       0
2 season character     13 328       0
3    ice character      2 328       0
                                   distribution
1 yes (61.9%), no (38.1%)                      
2 Feb 26 - Mar 26 (8.5%) ...                   
3 no (57.3%), yes (42.7%)                      

quantitative variables:  
      name   class      min       Q1   median       Q3     max         mean
1 rownames numeric    1.000    82.75   164.50   246.25   328.0 1.645000e+02
2    price numeric    0.125     0.20     0.25     0.30     0.4 2.464939e-01
3 quantity numeric 4810.000 16604.00 23100.50 32389.00 76407.0 2.538439e+04
            sd   n missing
1 9.482967e+01 328       0
2 6.652626e-02 328       0
3 1.163277e+04 328       0</code></pre>
</div>
</div>
<hr>
<button>
<span class="button_top">Data Munging &amp; Creating Data Dictionary</span>
</button>
<hr>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>cartelstability_modified <span class="ot">&lt;-</span> cartelstability <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cartel =</span> <span class="fu">case_when</span>(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>      cartel <span class="sc">==</span> <span class="st">"yes"</span> <span class="sc">~</span> <span class="st">"Cartel operational"</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>      cartel <span class="sc">==</span> <span class="st">"no"</span> <span class="sc">~</span> <span class="st">"Cartel not operational"</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Unknown"</span>  </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> <span class="fu">as.factor</span>(), </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="fu">as.factor</span>(season),</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">ice =</span> <span class="fu">case_when</span>(</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>         ice<span class="sc">==</span><span class="st">"yes"</span><span class="sc">~</span> <span class="st">"lakes frozen"</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>         ice<span class="sc">==</span><span class="st">"no"</span> <span class="sc">~</span> <span class="st">"lakes normal"</span>,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>         <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Unknown"</span>) <span class="sc">%&gt;%</span> <span class="fu">as.factor</span>()</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(cartelstability_modified)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 328
Columns: 6
$ rownames &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…
$ price    &lt;dbl&gt; 0.40, 0.40, 0.40, 0.40, 0.40, 0.40, 0.40, 0.40, 0.40, 0.35, 0…
$ cartel   &lt;fct&gt; Cartel operational, Cartel operational, Cartel operational, C…
$ quantity &lt;dbl&gt; 13632, 20035, 16319, 12603, 23079, 19652, 16211, 22914, 23710…
$ season   &lt;fct&gt; Jan  1 - Jan 28, Jan  1 - Jan 28, Jan  1 - Jan 28, Jan  1 - J…
$ ice      &lt;fct&gt; lakes frozen, lakes frozen, lakes frozen, lakes frozen, lakes…</code></pre>
</div>
</div>
<section id="qual-variables--cartel-season-ice" class="level4">
<h4 class="anchored" data-anchor-id="qual-variables--cartel-season-ice">Qual variables- Cartel, Season, Ice</h4>
</section>
<section id="quant-variables--price-quantity" class="level4">
<h4 class="anchored" data-anchor-id="quant-variables--price-quantity">Quant variables- Price, Quantity</h4>
</section>
<section id="we-refer-back-to-the-time-interval-mentioned-in-our-description-weekly-time-series-to-appropriately-define-our-variables" class="level4">
<h4 class="anchored" data-anchor-id="we-refer-back-to-the-time-interval-mentioned-in-our-description-weekly-time-series-to-appropriately-define-our-variables"><span style="color: #005928;">we refer back to the time interval mentioned in our description “weekly time series” to appropriately define our variables</span></h4>
</section>
<section id="to-analyse-price-trends-on-a-weekly-basis-a-price-index-seems-to-have-been-used-to-better-analyse-the-market-trends." class="level4">
<h4 class="anchored" data-anchor-id="to-analyse-price-trends-on-a-weekly-basis-a-price-index-seems-to-have-been-used-to-better-analyse-the-market-trends."><span style="color: #005928;">-to analyse price trends on a weekly basis, a price index seems to have been used to better analyse the market trends.</span></h4>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 13%">
<col style="width: 15%">
<col style="width: 71%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variables</th>
<th style="text-align: left;">Data_types</th>
<th style="text-align: left;">Desc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Price</td>
<td style="text-align: left;">Float</td>
<td style="text-align: left;">Price index for shipping grains (on a weekly basis)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cartel</td>
<td style="text-align: left;">Factor</td>
<td style="text-align: left;">Cartel involvement</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Quantity</td>
<td style="text-align: left;">Float</td>
<td style="text-align: left;">Quantity of grains (in tonnes)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Season</td>
<td style="text-align: left;">Factor</td>
<td style="text-align: left;">time period</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ice</td>
<td style="text-align: left;">Factor</td>
<td style="text-align: left;">presence of ice in the great lakes</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
<button>
<span class="button_top">Understanding the data some more</span>
</button>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>cartelstability_modified <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(season, cartel) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 50 × 2
   season          cartel            
   &lt;fct&gt;           &lt;fct&gt;             
 1 Jan  1 - Jan 28 Cartel operational
 2 Jan  1 - Jan 28 Cartel operational
 3 Jan  1 - Jan 28 Cartel operational
 4 Jan  1 - Jan 28 Cartel operational
 5 Jan 29 - Feb 25 Cartel operational
 6 Jan 29 - Feb 25 Cartel operational
 7 Jan 29 - Feb 25 Cartel operational
 8 Jan 29 - Feb 25 Cartel operational
 9 Feb 26 - Mar 26 Cartel operational
10 Feb 26 - Mar 26 Cartel operational
# ℹ 40 more rows</code></pre>
</div>
</div>
<hr>
<hr>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(cartelstability)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "rownames" "price"    "cartel"   "quantity" "season"   "ice"     </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>cartel_summary <span class="ot">&lt;-</span> cartelstability_modified <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, cartel, ice) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_price =</span> <span class="fu">mean</span>(price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">'drop'</span>)  </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(cartelstability_modified)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 328
Columns: 6
$ rownames &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…
$ price    &lt;dbl&gt; 0.40, 0.40, 0.40, 0.40, 0.40, 0.40, 0.40, 0.40, 0.40, 0.35, 0…
$ cartel   &lt;fct&gt; Cartel operational, Cartel operational, Cartel operational, C…
$ quantity &lt;dbl&gt; 13632, 20035, 16319, 12603, 23079, 19652, 16211, 22914, 23710…
$ season   &lt;fct&gt; Jan  1 - Jan 28, Jan  1 - Jan 28, Jan  1 - Jan 28, Jan  1 - J…
$ ice      &lt;fct&gt; lakes frozen, lakes frozen, lakes frozen, lakes frozen, lakes…</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>cartel_summary <span class="ot">&lt;-</span> cartelstability_modified <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, cartel, ice) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_price_index =</span> <span class="fu">mean</span>(price), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(cartel_summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 30
Columns: 4
$ season          &lt;fct&gt; Apr 24 - May 21, Apr 24 - May 21, Apr 24 - May 21, Apr…
$ cartel          &lt;fct&gt; Cartel not operational, Cartel not operational, Cartel…
$ ice             &lt;fct&gt; lakes frozen, lakes normal, lakes frozen, lakes normal…
$ avg_price_index &lt;dbl&gt; 0.1857143, 0.2000000, 0.3000000, 0.2700000, 0.1846154,…</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(cartel_summary, </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Summary of Cartel Data by Season, Cartel, and Ice Status"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>), <span class="at">full_width =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Summary of Cartel Data by Season, Cartel, and Ice Status</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">season</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">cartel</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">ice</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">avg_price_index</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Apr 24 - May 21</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes frozen</td>
<td style="text-align: right;">0.1857143</td>
</tr>
<tr class="even">
<td style="text-align: left;">Apr 24 - May 21</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.2000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Apr 24 - May 21</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes frozen</td>
<td style="text-align: right;">0.3000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Apr 24 - May 21</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.2700000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Aug 14 - Sep 10</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.1846154</td>
</tr>
<tr class="even">
<td style="text-align: left;">Aug 14 - Sep 10</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.2681818</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dec 4 - Dec 31</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes frozen</td>
<td style="text-align: right;">0.1812500</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dec 4 - Dec 31</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes frozen</td>
<td style="text-align: right;">0.2861111</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dec 4 - Dec 31</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.2250000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Feb 26 - Mar 26</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes frozen</td>
<td style="text-align: right;">0.2875000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Feb 26 - Mar 26</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes frozen</td>
<td style="text-align: right;">0.2875000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jan 1 - Jan 28</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes frozen</td>
<td style="text-align: right;">0.1750000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Jan 1 - Jan 28</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes frozen</td>
<td style="text-align: right;">0.3100000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jan 29 - Feb 25</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes frozen</td>
<td style="text-align: right;">0.2625000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Jan 29 - Feb 25</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes frozen</td>
<td style="text-align: right;">0.3000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jul 17 - Aug 13</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.1800000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Jul 17 - Aug 13</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.2571429</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jun 19 - Jul 16</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.1777778</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Jun 19 - Jul 16</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.2500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mar 27 - Apr 23</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes frozen</td>
<td style="text-align: right;">0.2333333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mar 27 - Apr 23</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes frozen</td>
<td style="text-align: right;">0.2791667</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mar 27 - Apr 23</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.3000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">May 22 - Jun 18</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.1666667</td>
</tr>
<tr class="even">
<td style="text-align: left;">May 22 - Jun 18</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.2733333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nov 6 - Dec 3</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.1968750</td>
</tr>
<tr class="even">
<td style="text-align: left;">Nov 6 - Dec 3</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.2625000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Oct 9 - Nov 5</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.1562500</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oct 9 - Nov 5</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.2562500</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sep 11 - Oct 8</td>
<td style="text-align: left;">Cartel not operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.1538462</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sep 11 - Oct 8</td>
<td style="text-align: left;">Cartel operational</td>
<td style="text-align: left;">lakes normal</td>
<td style="text-align: right;">0.2636364</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>not ordered</p>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><button><span class="button_top">Research questions</span></button></td>
</tr>
</tbody>
</table>
<ul>
<li><p>opening and closing of the lakes was a predictable fluctuation in demand, when the cartels were operating what behaviour did they adopt?</p></li>
<li><p>when the cartels were not operative what was the market trend like, did it trigger price wars?</p></li>
<li><p>under which conditions (lakes frozen or not), did the cartels benefit the most?</p></li>
</ul>
<hr>
<button>
<span class="button_top">Plotting graphs</span>
</button>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>cartel_summary, <span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> avg_price_index, <span class="at">color =</span> cartel, <span class="at">group =</span> cartel)) <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Price Index per ton of grain transported"</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Avg Price Index"</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="facet-the-plot-by-lakes-frozen-not-frozen" class="level4">
<h4 class="anchored" data-anchor-id="facet-the-plot-by-lakes-frozen-not-frozen">facet the plot by lakes frozen not frozen</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cartel_summary, <span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> avg_price_index, <span class="at">color =</span> cartel, <span class="at">group =</span> cartel)) <span class="sc">+</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Price Index per ton of grain transported"</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Avg Price Index"</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> ice, <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">labeller =</span> <span class="fu">labeller</span>(<span class="at">ice =</span> <span class="fu">c</span>(<span class="st">"frozen"</span> <span class="ot">=</span> <span class="st">"lakes frozen"</span>, <span class="st">"not frozen"</span> <span class="ot">=</span> <span class="st">"lakes normal"</span>))) <span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span> </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>  )  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="inferences" class="level2">
<h2 class="anchored" data-anchor-id="inferences">Inferences</h2>
<ul>
<li><p>When lakes are frozen, and cartels are operative, the price index is higher than when the cartels are not operating. Lakes being frozen reduces competition for the railways. cartels can enter collusive agreements and gain market power.</p></li>
<li><p>when lakes are not frozen, and cartels are operational, the price index fluctuates yet is still high, showing how external competition (shipping), increases competition among cartels, they might follow noncooperative behaviour and trigger price may get undercut in the process.</p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>